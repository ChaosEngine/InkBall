{"version":3,"file":"shared.min.js","names":["StatusEnum","Object","freeze","POINT_FREE_RED","POINT_FREE_BLUE","POINT_FREE","POINT_STARTING","POINT_IN_PATH","POINT_OWNED_BY_RED","POINT_OWNED_BY_BLUE","LocalLog","msg","console","log","LocalError","args","i","length","str","error","LocalAlert","myAlert","onCloseCallback","window","alert","pnpoly","pathPoints","x","y","size","j","c","pi","pj","hasDuplicates","array","Set","async","Sleep","ms","Promise","resolve","setTimeout","sortPointsClockwise","points","center","reduce","acc","map","p","angle","Math","atan2","sort","a","b","SvgVml","mathSVGPoint","cont","constructor","svgNS","svgAntialias","documentCreateElementNS_SVG","documentCreateElementNS_Element","svgAvailable","this","self","document","createElementNS","some_cont","contextElement","bind","elementName","Error","attributes","Map","children","setAttributeNS","_nullish","key","val","set","appendChild","push","removeChild","index","indexOf","splice","SVGCircleElement","prototype","setAttribute","getAttribute","get","removeAttribute","delete","SVGPolylineElement","move","GetStrokeColor","SetStrokeColor","col","GetPosition","cachedPosition","parseInt","GetFillColor","cachedFillColor","SetFillColor","GetStatus","cachedStatus","StringToStatusEnum","SetStatus","iStatus","saveOldPoint","old_status","StatusEnumToString","RevertOldStatus","GetZIndex","SetZIndex","Hide","Show","StrokeWeight","sw","Serialize","Status","Color","AppendPoints","diff","pts_str","pts","split","arr","at","last_x","last_y","abs","RemoveLastPoint","new_points","replace","ContainsPoint","regex","RegExp","match","GetPointsString","GetPointsArray","cachedPoints","pt","SetPoints","sPoints","GetIsClosed","GetLength","SetWidthAndColor","GetID","SetID","iID","iId","PointsAsString","CreateSVGVML","iWidth","iHeight","iGridWidth","iGridHeight","antialias","undefined","createSVGPoint","CreatePolyline","width","o","CreateOval","radius","enumVal","keys","enumStr","toUpperCase","RemoveOval","oval","RemovePolyline","polyline","DeserializeOval","packed","DeserializePolyline","ToCursorPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","IsPointInCircle","r","tolerance","lhs","pow","rhs","GameStateStore","DB","DB_NAME","DB_VERSION","bulkStores","useIndexedDb","pointCreationCallbackFn","pathCreationCallbackFn","getGameStateFn","version","SimplePointStoreDefinition","store","has","values","SimplePathStoreDefinition","obj","IDBPointStoreDefinition","MainGameStateStore","GetPoint","StorePoint","UpdatePoint","UpdateState","PointCreationCallback","mainGameStateStore","super","GetAllPoints","GetGameStateCallback","game_state","idb_pt","BeginBulkStorage","DB_POINT_STORE","pointBulkBuffer","StoreAllPoints","EndBulkStorage","pos","color","bPointsAndPathsLoaded","iGameID","IDBPathStoreDefinition","GetAllPaths","StorePath","PathCreationCallback","paths","idb_pa","pa","DB_PATH_STORE","pathBulkBuffer","StoreAllPaths","id_key","idb_path","tab","join","DB_STATE_STORE","isNaN","PointStore","PathStore","GetPointStore","GetPathStore","reject","req","indexedDB","open","onsuccess","evt","currentTarget","result","onerror","target","errorCode","onupgradeneeded","loc_db","store_list","Array","from","objectStoreNames","includes","deleteObjectStore","createObjectStore","keyPath","autoIncrement","GetObjectStore","storeName","mode","transaction","objectStore","clearObjectStore","clear","all","event","bucket","openCursor","cursor","value","continue","Idx","add","e","name","put","forEach","gameState","v","OpenDb","idb_state","GetState","ClearAllStores","StoreState","sLastMoveGameTimeStamp","PrepareStore","isArray","tx"],"sources":["shared.js"],"mappings":"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"}