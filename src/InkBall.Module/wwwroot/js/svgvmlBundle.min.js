(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{2:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,s=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,u=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw u}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}function d(t,e,r,n,o,i,u){try{var s=t[i](u),a=s.value}catch(t){return void r(t)}s.done?e(a):Promise.resolve(a).then(n,o)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){d(i,n,o,u,s,"next",t)}function s(t){d(i,n,o,u,s,"throw",t)}u(void 0)}))}}r.r(e),r.d(e,"$createOval",(function(){return b})),r.d(e,"$createPolyline",(function(){return v})),r.d(e,"$RemovePolyline",(function(){return g})),r.d(e,"$RemoveOval",(function(){return y})),r.d(e,"$createSVGVML",(function(){return w})),r.d(e,"$createLine",(function(){return x})),r.d(e,"hasDuplicates",(function(){return R})),r.d(e,"sortPointsClockwise",(function(){return I})),r.d(e,"PointStore",(function(){return A})),r.d(e,"PathStore",(function(){return k}));var b,v,g,y,w,x,A,k,S=!1,$="http://www.w3.org/2000/svg",P=!1,C=null;document.createElementNS&&(S=null!==document.createElementNS($,"svg").x);function R(t){return new Set(t).size!==t.length}function I(t){var e=t.reduce((function(t,e){var r=e.x,n=e.y;return t.x+=r,t.y+=n,t}),{x:0,y:0});return e.x/=t.length,e.y/=t.length,t.map((function(t){var r=t.x,n=t.y;return{x:r,y:n,angle:180*Math.atan2(n-e.y,r-e.x)/Math.PI}})).sort((function(t,e){return t.angle-e.angle}))}S?(w=function(t,e,r,n){return C=document.createElementNS($,"svg"),t.appendChild(C),P=n,C},x=function(t,e,r){var n=document.createElementNS($,"line");return n.setAttribute("shape-rendering",P?"auto":"optimizeSpeed"),n.setAttribute("stroke-width",Math.round(t)+"px"),e&&n.setAttribute("stroke",e),r&&n.setAttribute("stroke-linecap",r),n.$move=function(t,e,r,n){this.setAttribute("x1",t),this.setAttribute("y1",e),this.setAttribute("x2",r),this.setAttribute("y2",n)},n.$RGBcolor=function(t,e,r){this.setAttribute("stroke","rgb("+Math.round(t)+","+Math.round(e)+","+Math.round(r)+")")},n.$SetColor=function(t){this.setAttribute("stroke",t)},n.$strokeWidth=function(t){this.setAttribute("stroke-width",Math.round(t)+"px")},C.appendChild(n),n},v=function(t,e,r){var n=document.createElementNS($,"polyline");return n.setAttribute("shape-rendering",P?"auto":"optimizeSpeed"),n.setAttribute("stroke-width",Math.round(t)),r&&n.setAttribute("stroke",r),n.setAttribute("fill",r),n.setAttribute("fill-opacity","0.1"),e&&n.setAttribute("points",e),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-linejoin","round"),C.appendChild(n),n.setAttribute("data-id",0),n.$AppendPoints=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=this.getAttribute("points"),i=o.split(" ");if(!0===R(i))return!1;if(i.length<=1||2!==(r=i[i.length-1].split(",")).length)return!1;var u=parseInt(r[0]),s=parseInt(r[1]),a=parseInt(t),c=parseInt(e);return Math.abs(u-a)<=n&&Math.abs(s-c)<=n&&(this.setAttribute("points",o+" ".concat(t,",").concat(e)),!0)},n.$RemoveLastPoint=function(){var t=this.getAttribute("points").replace(/(\s\d+,\d+)$/,"");return this.setAttribute("points",t),t},n.$ContainsPoint=function(t,e){var r=new RegExp("".concat(t,",").concat(e),"g");return(this.getAttribute("points").match(r)||[]).length},n.$GetPointsString=function(){return this.getAttribute("points")},n.$GetPointsArray=function(){return this.getAttribute("points").split(" ").map((function(t){var e=t.split(",");return{x:parseInt(e[0]),y:parseInt(e[1])}}))},n.$SetPoints=function(t){this.setAttribute("points",t)},n.$GetIsClosed=function(){var t=this.getAttribute("points").split(" ");return t[0]===t[t.length-1]},n.$GetLength=function(){return this.getAttribute("points").split(" ").length},n.$SetWidthAndColor=function(t,e){this.setAttribute("stroke",e),this.setAttribute("fill",e),this.setAttribute("stroke-width",Math.round(t))},n.$GetID=function(){return parseInt(this.getAttribute("data-id"))},n.$SetID=function(t){this.setAttribute("data-id",t)},n.$GetFillColor=function(){return this.getAttribute("fill")},n},b=function(t){var e=document.createElementNS($,"circle");return e.setAttribute("shape-rendering",P?"auto":"optimizeSpeed"),e.setAttribute("stroke-width",0),e.setAttribute("r",Math.round(t>>1)),e.setAttribute("data-status",-1),e.$move=function(t,e,r){this.setAttribute("cx",t),this.setAttribute("cy",e),this.setAttribute("r",Math.round(r))},e.$GetStrokeColor=function(){return this.getAttribute("stroke")},e.$SetStrokeColor=function(t){this.setAttribute("stroke",t)},e.$GetPosition=function(){return{x:this.getAttribute("cx"),y:this.getAttribute("cy")}},e.$GetFillColor=function(){return this.getAttribute("fill")},e.$SetFillColor=function(t){this.setAttribute("fill",t)},e.$GetStatus=function(){return parseInt(this.getAttribute("data-status"))},e.$SetStatus=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var r=parseInt(this.getAttribute("data-status"));this.setAttribute("data-status",t),-1!==r&&r!==t&&this.setAttribute("data-old-status",r)}else this.setAttribute("data-status",t)},e.$RevertOldStatus=function(){var t=this.getAttribute("data-old-status");return t?(this.removeAttribute("data-old-status"),this.setAttribute("data-status",t),parseInt(t)):-1},e.$GetZIndex=function(){return this.getAttribute("z-index")},e.$SetZIndex=function(t){this.setAttribute("z-index",t)},e.$Hide=function(){this.setAttribute("visibility","hidden")},e.$Show=function(){this.setAttribute("visibility","visible")},e.$strokeWeight=function(t){this.setAttribute("stroke-width",t)},C.appendChild(e),e},y=function(t){C.removeChild(t)},g=function(t){C.removeChild(t)}):document.createStyleSheet?(w=function(t,e,r,n){document.namespaces.add("v","urn:schemas-microsoft-com:vml");var o=document.createStyleSheet();return o.addRule("v\\:*","behavior: url(#default#VML);"),o.addRule("v\\:*","antialias: "+n+";"),C=t,t},x=function(t,e,r){var n=document.createElement("v:line");if(n.strokeweight=Math.round(t)+"px",e&&(n.strokecolor=e),n.$move=function(t,e,r,n){this.to=t+","+e,this.from=r+","+n},n.$RGBcolor=function(t,e,r){this.strokecolor="rgb("+Math.round(t)+","+Math.round(e)+","+Math.round(r)+")"},n.$SetColor=function(t){this.strokecolor=t},n.$strokeWidth=function(t){this.strokeweight=Math.round(t)+"px"},r){var o=document.createElement("v:stroke");o.endcap=r,n.appendChild(o)}return C.appendChild(n),n},v=function(t,e,r){var n=document.createElement("v:polyline");n.strokeweight=Math.round(t)+"px",r&&(n.strokecolor=r),n.points=e;var o=document.createElement("v:fill");return o.color=r,o.opacity=.1,n.appendChild(o),C.appendChild(n),n.setAttribute("data-id",0),n.$AppendPoints=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=this.points.value,i=o.split(" ");if(!0===R(i))return!1;if(i.length<=1||2!==(r=i[i.length-1].split(",")).length)return!1;var u=parseInt(r[0]),s=parseInt(r[1]),a=parseInt(t),c=parseInt(e);return Math.abs(u-a)<=n&&Math.abs(s-c)<=n&&(this.points.value=o+" ".concat(t,",").concat(e),!0)},n.$RemoveLastPoint=function(){var t=this.points.value.replace(/(\s\d+,\d+)$/,"");return this.points.value=t,t},n.$ContainsPoint=function(t,e){var r=new RegExp("".concat(t,",").concat(e),"g");return(this.points.value.match(r)||[]).length},n.$GetPointsString=function(){return n.points.value},n.$GetPointsArray=function(){return this.points.value.split(" ").map((function(t){var e=t.split(",");return{x:parseInt(e[0]),y:parseInt(e[1])}}))},n.$SetPoints=function(t){this.points.value=t},n.$GetIsClosed=function(){var t=this.points.value.split(" ");return t[0]===t[t.length-1]},n.$GetLength=function(){return this.points.value.split(" ").length},n.$SetWidthAndColor=function(t,e){this.strokecolor=e,this.fill.color=e,this.strokeweight=Math.round(t)+"px"},n.$GetID=function(){return parseInt(this.getAttribute("data-id"))},n.$SetID=function(t){this.setAttribute("data-id",t)},n.$GetFillColor=function(){return this.fill.color},n},b=function(t,e){var r=document.createElement("v:oval");return r.style.position="absolute",r.setAttribute("data-status",-1),r.strokeweight=1,r.filled=e,r.style.width=t+"px",r.style.height=t+"px",r.$move=function(t,e,r){this.style.left=Math.round(t-r)+"px",this.style.top=Math.round(e-r)+"px",this.style.width=Math.round(2*r)+"px",this.style.height=Math.round(2*r)+"px"},r.$GetStrokeColor=function(){return this.strokecolor},r.$SetStrokeColor=function(t){this.strokecolor=t},r.$GetPosition=function(){return{x:parseInt(this.style.left)+.5*parseInt(this.style.width),y:parseInt(this.style.top)+.5*parseInt(this.style.height)}},r.$GetFillColor=function(){return this.fillcolor},r.$SetFillColor=function(t){this.fillcolor=t},r.$GetStatus=function(){return parseInt(this.getAttribute("data-status"))},r.$SetStatus=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var r=parseInt(this.getAttribute("data-status"));this.setAttribute("data-status",t),-1!==r&&r!==t&&this.setAttribute("data-old-status",r)}else this.setAttribute("data-status",t)},r.$RevertOldStatus=function(){var t=this.getAttribute("data-old-status");return t?(this.removeAttribute("data-old-status"),this.setAttribute("data-status",t),parseInt(t)):-1},r.$GetZIndex=function(){return this.getAttribute("z-index")},r.$SetZIndex=function(t){this.setAttribute("z-index",t)},r.$Hide=function(){this.setAttribute("visibility","hidden")},r.$Show=function(){this.setAttribute("visibility","visible")},r.$strokeWeight=function(t){this.strokeweight=t},C.appendChild(r),r},y=function(t){C.removeChild(t)},g=function(t){C.removeChild(t)}):w=function(){return alert("SVG or VML is not supported!"),!1};var G;function M(){return O.apply(this,arguments)}function O(){return(O=m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("OpenDb ..."),t.abrupt("return",new Promise((function(t,e){var r=indexedDB.open("InkballGame",1);r.onsuccess=function(){G=this.result,console.log("OpenDb DONE"),t(this.result)},r.onerror=function(t){console.error("OpenDb:",t.target.errorCode),e()},r.onupgradeneeded=function(t){console.log("OpenDb.onupgradeneeded");var e=Array.from(t.currentTarget.result.objectStoreNames);e.includes("points")&&t.currentTarget.result.deleteObjectStore("points"),e.includes("paths")&&t.currentTarget.result.deleteObjectStore("paths"),e.includes("state")&&t.currentTarget.result.deleteObjectStore("state");var r=t.currentTarget.result.createObjectStore("points",{autoIncrement:!1});r.createIndex("Status","Status",{unique:!1}),r.createIndex("Color","Color",{unique:!1}),t.currentTarget.result.createObjectStore("paths",{autoIncrement:!1}).createIndex("iPlayerId","iPlayerId",{unique:!1});t.currentTarget.result.createObjectStore("state",{autoIncrement:!1})}})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t,e){return G.transaction(t,e).objectStore(t)}function E(t){return j.apply(this,arguments)}function j(){return(j=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=D(e,"readwrite").clear();n.onsuccess=function(){t()},n.onerror=function(t){console.error("clearObjectStore:",t.target.errorCode),r()}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return _.apply(this,arguments)}function _(){return(_=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=D("points","readonly").get(e);n.onerror=function(t){r(new Error("GetPoint => "+t))},n.onsuccess=function(e){t(e.target.result)}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){return L.apply(this,arguments)}function L(){return(L=m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var r=D("points","readonly").getAll();r.onsuccess=function(e){t(e.target.result)},r.onerror=function(t){e(new Error("GetAllPoints => "+t))}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t){return B.apply(this,arguments)}function B(){return(B=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=D("state","readonly").get(e);n.onerror=function(t){r(new Error("GetState => "+t))},n.onsuccess=function(e){t(e.target.result)}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return W.apply(this,arguments)}function W(){return(W=m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var r=D("paths","readonly").getAll();r.onsuccess=function(e){t(e.target.result)},r.onerror=function(t){e(new Error("GetAllPaths => "+t))}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t,e){return Z.apply(this,arguments)}function Z(){return(Z=m(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var o,i=r.$GetPosition(),u=r.$GetFillColor(),s={x:i.x/16,y:i.y/16,Status:r.$GetStatus(),Color:u},a=D("points","readwrite");try{o=a.add(s,e)}catch(t){throw"DataCloneError"==t.name&&console.error("This engine doesn't know how to clone a Blob, use Firefox"),t}o.onsuccess=function(){t()},o.onerror=function(){console.error("StorePoint error",this.error),n()}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t,e){return H.apply(this,arguments)}function H(){return(H=m(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var o,i={iGameID:r.g_iGameID,iPlayerID:r.g_iPlayerID,iOtherPlayerId:r.m_iOtherPlayerId,sLastMoveGameTimeStamp:r.m_sLastMoveGameTimeStamp},u=D("state","readwrite");try{o=u.add(i,e)}catch(t){throw"DataCloneError"==t.name&&console.error("This engine doesn't know how to clone a Blob, use Firefox"),t}o.onsuccess=function(){t()},o.onerror=function(){console.error("StoreState error",this.error),n()}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t,e){return U.apply(this,arguments)}function U(){return(U=m(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var o,i={Color:r.$GetFillColor(),PointsAsString:r.$GetPointsString()},u=D("paths","readwrite");try{o=u.add(i,e)}catch(t){throw"DataCloneError"==t.name&&console.error("This engine doesn't know how to clone a Blob, use Firefox"),t}o.onsuccess=function(){t()},o.onerror=function(){console.error("StorePath error",this.error),n()}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var K=function(){function t(){p(this,t)}var e,r,n,o,i;return h(t,[{key:"PrepareStore",value:(i=m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.store=new Map;case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"has",value:(o=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.store.has(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"set",value:(n=m(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.store.set(e,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"get",value:(r=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.store.get(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"values",value:(e=m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.store.values());case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),Q=function(t){u(l,t);var e,r,n,i,s,c=a(l);function l(){return p(this,l),c.call(this)}return h(l,[{key:"PrepareStore",value:(s=m(regeneratorRuntime.mark((function t(e){var r,n,i,u,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G){t.next=3;break}return t.next=3,M();case 3:return e.CreateScreenPointFromIndexedDb&&(this.PointCreationCallback=e.CreateScreenPointFromIndexedDb.bind(e)),t.next=6,z(e.g_iGameID);case 6:if(r=t.sent){t.next=18;break}return t.next=10,E("points");case 10:return t.next=12,E("paths");case 12:return t.next=14,E("state");case 14:return t.next=16,q(e.g_iGameID,e);case 16:t.next=34;break;case 18:if(r.sLastMoveGameTimeStamp===e.m_sLastMoveGameTimeStamp){t.next=27;break}return t.next=21,E("points");case 21:return t.next=23,E("paths");case 23:return t.next=25,E("state");case 25:t.next=34;break;case 27:if(e.m_bPointsAndPathsLoaded=!0,!this.PointCreationCallback){t.next=34;break}return t.next=31,this.values();case 31:n=t.sent,i=o(n);try{for(i.s();!(u=i.n()).done;)s=u.value,this.PointCreationCallback(s.x,s.y,s.Status,s.Color)}catch(t){i.e(t)}finally{i.f()}case 34:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"has",value:(i=m(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:return r=t.sent,t.abrupt("return",null!=r);case 4:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"set",value:(n=m(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e,r);case 2:case"end":return t.stop()}}),t)}))),function(t,e){return n.apply(this,arguments)})},{key:"get",value:(r=m(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:if(!(r=t.sent)||!this.PointCreationCallback){t.next=8;break}return n=this.PointCreationCallback(r.x,r.y,r.Status,r.Color),t.abrupt("return",n);case 8:return t.abrupt("return",null);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"values",value:(e=m(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}]),l}(K),X=function(){function t(){p(this,t),this.store=[]}return h(t,[{key:"push",value:function(t){return this.store.push(t)}},{key:"all",value:function(){return this.store}}]),t}();"indexedDB"in window?(A=Q,k=function(t){u(i,t);var e,r,n,o=a(i);function i(){return p(this,i),o.call(this)}return h(i,[{key:"PrepareStore",value:(n=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.CreateScreenPathFromIndexedDb&&(this.PathCreationCallback=e.CreateScreenPathFromIndexedDb.bind(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"push",value:(r=m(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e.$GetID(),e);case 2:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"all",value:(e=m(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}]),i}(X)):(console.log("This browser doesn't support IndexedDB"),A=K,k=X)}}]);