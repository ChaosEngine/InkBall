{"version":3,"file":"shared.min.js","names":["StatusEnum","Object","freeze","POINT_FREE_RED","POINT_FREE_BLUE","POINT_FREE","POINT_STARTING","POINT_IN_PATH","POINT_OWNED_BY_RED","POINT_OWNED_BY_BLUE","LocalLog","msg","console","log","LocalError","args","i","length","str","error","LocalAlert","pnpoly2","pathPoints","x","y","npol","j","c","pi","pj","hasDuplicates","array","Set","size","async","Sleep","ms","Promise","resolve","setTimeout","sortPointsClockwise","points","center","reduce","acc","map","p","angle","Math","atan2","sort","a","b","myAlert","title","onCloseCallback","window","alert","SvgVml","constructor","svgNS","svgAntialias","documentCreateElementNS_SVG","documentCreateElementNS_Element","svgAvailable","this","cont","mathSVGPoint","self","document","createElementNS","some_cont","contextElement","bind","elementName","Error","attributes","Map","children","setAttributeNS","_nullish","key","val","set","appendChild","push","removeChild","index","indexOf","splice","SVGCircleElement","prototype","setAttribute","getAttribute","get","removeAttribute","delete","SVGPolylineElement","move","GetStrokeColor","SetStrokeColor","col","GetPosition","cachedPosition","parseInt","GetFillColor","cachedFillColor","SetFillColor","GetStatus","cachedStatus","StringToStatusEnum","SetStatus","iStatus","saveOldPoint","old_status","StatusEnumToString","RevertOldStatus","GetZIndex","SetZIndex","Hide","Show","StrokeWeight","sw","Serialize","Status","Color","AppendPoints","diff","pts_str","pts","split","arr","at","last_x","last_y","abs","RemoveLastPoint","newpts","replace","ContainsPoint","regexstr","RegExp","match","GetPointsString","GetPointsArray","cachedPoints","pt","SetPoints","sPoints","GetIsClosed","GetLength","SetWidthAndColor","GetID","SetID","iID","iId","PointsAsString","CreateSVGVML","iWidth","iHeight","iGridWidth","iGridHeight","antialias","undefined","createSVGPoint","CreateLine","w","linecap","o","CreatePolyline","width","CreateOval","radius","enumVal","keys","enumStr","toUpperCase","RemoveOval","oval","RemovePolyline","polyline","DeserializeOval","packed","DeserializePolyline","ToCursorPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","IsPointInCircle","r","tolerance","lhs","pow","rhs","GameStateStore","useIndexedDb","pointCreationCallbackFn","pathCreationCallbackFn","getGameStateFn","version","SimplePointStoreDefinition","store","has","values","SimplePathStoreDefinition","obj","IDBPointStoreDefinition","mainGameStateStore","super","MainGameStateStore","GetPoint","StorePoint","GetAllPoints","UpdateState","PointCreationCallback","GetGameStateCallback","game_state","idb_pt","BeginBulkStorage","DB_POINT_STORE","pointBulkBuffer","StoreAllPoints","EndBulkStorage","pos","color","bPointsAndPathsLoaded","iGameID","IDBPathStoreDefinition","GetAllPaths","StorePath","PathCreationCallback","paths","idb_pa","pa","DB_PATH_STORE","pathBulkBuffer","StoreAllPaths","id_key","idb_path","tab","join","DB_NAME","DB_STATE_STORE","g_DB","bulkStores","DB_VERSION","isNaN","PointStore","PathStore","GetPointStore","GetPathStore","reject","req","indexedDB","open","onsuccess","evt","currentTarget","result","onerror","target","errorCode","onupgradeneeded","store_list","Array","from","objectStoreNames","includes","deleteObjectStore","createObjectStore","autoIncrement","GetObjectStore","storeName","mode","transaction","objectStore","clearObjectStore","clear","all","event","bucket","openCursor","cursor","value","continue","put","e","name","forEach","v","add","gameState","OpenDb","idb_state","GetState","ClearAllStores","StoreState","sLastMoveGameTimeStamp","PrepareStore","isArray","tx"],"sources":["shared.js"],"mappings":"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"}