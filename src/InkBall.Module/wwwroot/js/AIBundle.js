var AIBundle=function(t){var n={};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=2)}([function(t,n,r){"use strict";var e=r(3),i=r(4),o=r(5);const a=r(6).orient2d;function h(t,n,r){n=Math.max(0,void 0===n?2:n),r=r||0;var i=function(t){for(var n=t[0],r=t[0],e=t[0],i=t[0],a=0;a<t.length;a++){var h=t[a];h[0]<n[0]&&(n=h),h[0]>e[0]&&(e=h),h[1]<r[1]&&(r=h),h[1]>i[1]&&(i=h)}var u=[n,r,e,i],s=u.slice();for(a=0;a<t.length;a++)o(t[a],u)||s.push(t[a]);return function(t){t.sort(M);for(var n=[],r=0;r<t.length;r++){for(;n.length>=2&&p(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}for(var e=[],i=t.length-1;i>=0;i--){for(;e.length>=2&&p(e[e.length-2],e[e.length-1],t[i])<=0;)e.pop();e.push(t[i])}return e.pop(),n.pop(),n.concat(e)}(s)}(t),a=new e(16);a.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},a.compareMinX=function(t,n){return t[0]-n[0]},a.compareMinY=function(t,n){return t[1]-n[1]},a.load(t);for(var h,s=[],f=0;f<i.length;f++){var l=i[f];a.remove(l),h=d(l,h),s.push(h)}var c=new e(16);for(f=0;f<s.length;f++)c.insert(m(s[f]));for(var g=n*n,x=r*r;s.length;){var _=s.shift(),X=_.p,Y=_.next.p,y=v(X,Y);if(!(y<x)){var B=y/g;(l=u(a,_.prev.p,X,Y,_.next.next.p,B,c))&&Math.min(v(l,X),v(l,Y))<=B&&(s.push(_),s.push(d(l,_)),a.remove(l),c.remove(_),c.insert(m(_)),c.insert(m(_.next)))}}_=h;var b=[];do{b.push(_.p),_=_.next}while(_!==h);return b.push(_.p),b}function u(t,n,r,e,o,a,h){for(var u=new i([],s),l=t.data;l;){for(var p=0;p<l.children.length;p++){var m=l.children[p],d=l.leaf?g(m,r,e):f(r,e,m);d>a||u.push({node:m,dist:d})}for(;u.length&&!u.peek().node.children;){var v=u.pop(),x=v.node,M=g(x,n,r),_=g(x,e,o);if(v.dist<M&&v.dist<_&&c(r,x,h)&&c(e,x,h))return x}(l=u.pop())&&(l=l.node)}return null}function s(t,n){return t.dist-n.dist}function f(t,n,r){if(l(t,r)||l(n,r))return 0;var e=x(t[0],t[1],n[0],n[1],r.minX,r.minY,r.maxX,r.minY);if(0===e)return 0;var i=x(t[0],t[1],n[0],n[1],r.minX,r.minY,r.minX,r.maxY);if(0===i)return 0;var o=x(t[0],t[1],n[0],n[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===o)return 0;var a=x(t[0],t[1],n[0],n[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===a?0:Math.min(e,i,o,a)}function l(t,n){return t[0]>=n.minX&&t[0]<=n.maxX&&t[1]>=n.minY&&t[1]<=n.maxY}function c(t,n,r){for(var e,i,o,a,h=Math.min(t[0],n[0]),u=Math.min(t[1],n[1]),s=Math.max(t[0],n[0]),f=Math.max(t[1],n[1]),l=r.search({minX:h,minY:u,maxX:s,maxY:f}),c=0;c<l.length;c++)if(e=l[c].p,i=l[c].next.p,o=t,e!==(a=n)&&i!==o&&p(e,i,o)>0!=p(e,i,a)>0&&p(o,a,e)>0!=p(o,a,i)>0)return!1;return!0}function p(t,n,r){return a(t[0],t[1],n[0],n[1],r[0],r[1])}function m(t){var n=t.p,r=t.next.p;return t.minX=Math.min(n[0],r[0]),t.minY=Math.min(n[1],r[1]),t.maxX=Math.max(n[0],r[0]),t.maxY=Math.max(n[1],r[1]),t}function d(t,n){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function v(t,n){var r=t[0]-n[0],e=t[1]-n[1];return r*r+e*e}function g(t,n,r){var e=n[0],i=n[1],o=r[0]-e,a=r[1]-i;if(0!==o||0!==a){var h=((t[0]-e)*o+(t[1]-i)*a)/(o*o+a*a);h>1?(e=r[0],i=r[1]):h>0&&(e+=o*h,i+=a*h)}return(o=t[0]-e)*o+(a=t[1]-i)*a}function x(t,n,r,e,i,o,a,h){var u,s,f,l,c=r-t,p=e-n,m=a-i,d=h-o,v=t-i,g=n-o,x=c*c+p*p,M=c*m+p*d,_=m*m+d*d,X=c*v+p*g,Y=m*v+d*g,y=x*_-M*M,B=y,b=y;0===y?(s=0,B=1,l=Y,b=_):(l=x*Y-M*X,(s=M*Y-_*X)<0?(s=0,l=Y,b=_):s>B&&(s=B,l=Y+M,b=_)),l<0?(l=0,-X<0?s=0:-X>x?s=B:(s=-X,B=x)):l>b&&(l=b,-X+M<0?s=0:-X+M>x?s=B:(s=-X+M,B=x));var A=(1-(f=0===l?0:l/b))*i+f*a-((1-(u=0===s?0:s/B))*t+u*r),S=(1-f)*o+f*h-((1-u)*n+u*e);return A*A+S*S}function M(t,n){return t[0]===n[0]?t[1]-n[1]:t[0]-n[0]}t.exports=h,t.exports.default=h},function(t,n){function r(t,n,r){r=r||0;var e,i,o,a,h,u,s,f=[0,0];return e=t[1][1]-t[0][1],i=t[0][0]-t[1][0],o=e*t[0][0]+i*t[0][1],a=n[1][1]-n[0][1],h=n[0][0]-n[1][0],u=a*n[0][0]+h*n[0][1],Y(s=e*h-a*i,0,r)||(f[0]=(h*o-i*u)/s,f[1]=(e*u-a*o)/s),f}function e(t,n,r,e){var i=n[0]-t[0],o=n[1]-t[1],a=e[0]-r[0],h=e[1]-r[1];if(a*o-h*i==0)return!1;var u=(i*(r[1]-t[1])+o*(t[0]-r[0]))/(a*o-h*i),s=(a*(t[1]-r[1])+h*(r[0]-t[0]))/(h*i-a*o);return u>=0&&u<=1&&s>=0&&s<=1}function i(t,n,r){return(n[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(n[1]-t[1])}function o(t,n,r){return i(t,n,r)>0}function a(t,n,r){return i(t,n,r)>=0}function h(t,n,r){return i(t,n,r)<0}function u(t,n,r){return i(t,n,r)<=0}t.exports={decomp:function(t){var n=function t(n){for(var r=[],e=[],i=[],o=[],a=Number.MAX_VALUE,h=0;h<n.length;++h)if(d(n,h))for(var u=0;u<n.length;++u)if(x(n,h,u)){e=t(_(n,h,u,o)),i=t(_(n,u,h,o));for(var s=0;s<i.length;s++)e.push(i[s]);e.length<a&&(r=e,a=e.length,r.push([p(n,h),p(n,u)]))}return r}(t);return n.length>0?function t(n,r){if(0===r.length)return[n];if(r instanceof Array&&r.length&&r[0]instanceof Array&&2===r[0].length&&r[0][0]instanceof Array){for(var e=[n],i=0;i<r.length;i++)for(var o=r[i],a=0;a<e.length;a++){var h=e[a],u=t(h,o);if(u){e.splice(a,1),e.push(u[0],u[1]);break}}return e}o=r,i=n.indexOf(o[0]),a=n.indexOf(o[1]);return-1!==i&&-1!==a&&[_(n,i,a),_(n,a,i)]}(t,n):[t]},quickDecomp:function t(n,r,e,i,s,f,l){f=f||100,l=l||0,s=s||25,r=void 0!==r?r:[],e=e||[],i=i||[];var v=[0,0],g=[0,0],x=[0,0],_=0,Y=0,y=0,B=0,b=0,A=0,S=0,w=[],I=[],P=n,G=n;if(G.length<3)return r;if(++l>f)return console.warn("quickDecomp: max level ("+f+") reached."),r;for(var O=0;O<n.length;++O)if(d(P,O)){e.push(P[O]),_=Y=Number.MAX_VALUE;for(var $=0;$<n.length;++$)o(p(P,O-1),p(P,O),p(P,$))&&u(p(P,O-1),p(P,O),p(P,$-1))&&(x=X(p(P,O-1),p(P,O),p(P,$),p(P,$-1)),h(p(P,O+1),p(P,O),x)&&(y=c(P[O],x))<Y&&(Y=y,g=x,A=$)),o(p(P,O+1),p(P,O),p(P,$+1))&&u(p(P,O+1),p(P,O),p(P,$))&&(x=X(p(P,O+1),p(P,O),p(P,$),p(P,$+1)),o(p(P,O-1),p(P,O),x)&&(y=c(P[O],x))<_&&(_=y,v=x,b=$));if(A===(b+1)%n.length)x[0]=(g[0]+v[0])/2,x[1]=(g[1]+v[1])/2,i.push(x),O<b?(m(w,P,O,b+1),w.push(x),I.push(x),0!==A&&m(I,P,A,P.length),m(I,P,0,O+1)):(0!==O&&m(w,P,O,P.length),m(w,P,0,b+1),w.push(x),I.push(x),m(I,P,A,O+1));else{if(A>b&&(b+=n.length),B=Number.MAX_VALUE,b<A)return r;for($=A;$<=b;++$)a(p(P,O-1),p(P,O),p(P,$))&&u(p(P,O+1),p(P,O),p(P,$))&&(y=c(p(P,O),p(P,$)))<B&&M(P,O,$)&&(B=y,S=$%n.length);O<S?(m(w,P,O,S+1),0!==S&&m(I,P,S,G.length),m(I,P,0,O+1)):(0!==O&&m(w,P,O,G.length),m(w,P,0,S+1),m(I,P,S,O+1))}return w.length<I.length?(t(w,r,e,i,s,f,l),t(I,r,e,i,s,f,l)):(t(I,r,e,i,s,f,l),t(w,r,e,i,s,f,l)),r}return r.push(n),r},isSimple:function(t){var n,r=t;for(n=0;n<r.length-1;n++)for(var i=0;i<n-1;i++)if(e(r[n],r[n+1],r[i],r[i+1]))return!1;for(n=1;n<r.length-2;n++)if(e(r[0],r[r.length-1],r[n],r[n+1]))return!1;return!0},removeCollinearPoints:function(t,n){for(var r=0,e=t.length-1;t.length>3&&e>=0;--e)l(p(t,e-1),p(t,e),p(t,e+1),n)&&(t.splice(e%t.length,1),r++);return r},removeDuplicatePoints:function(t,n){for(var r=t.length-1;r>=1;--r)for(var e=t[r],i=r-1;i>=0;--i)y(e,t[i],n)&&t.splice(r,1)},makeCCW:function(t){for(var n=0,r=t,e=1;e<t.length;++e)(r[e][1]<r[n][1]||r[e][1]===r[n][1]&&r[e][0]>r[n][0])&&(n=e);return!o(p(t,n-1),p(t,n),p(t,n+1))&&(function(t){for(var n=[],r=t.length,e=0;e!==r;e++)n.push(t.pop());for(e=0;e!==r;e++)t[e]=n[e]}(t),!0)}};var s=[],f=[];function l(t,n,r,e){if(e){var o=s,a=f;o[0]=n[0]-t[0],o[1]=n[1]-t[1],a[0]=r[0]-n[0],a[1]=r[1]-n[1];var h=o[0]*a[0]+o[1]*a[1],u=Math.sqrt(o[0]*o[0]+o[1]*o[1]),l=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return Math.acos(h/(u*l))<e}return 0===i(t,n,r)}function c(t,n){var r=n[0]-t[0],e=n[1]-t[1];return r*r+e*e}function p(t,n){var r=t.length;return t[n<0?n%r+r:n%r]}function m(t,n,r,e){for(var i=r;i<e;i++)t.push(n[i])}function d(t,n){return h(p(t,n-1),p(t,n),p(t,n+1))}var v=[],g=[];function x(t,n,e){var i,o,h=v,s=g;if(a(p(t,n+1),p(t,n),p(t,e))&&u(p(t,n-1),p(t,n),p(t,e)))return!1;o=c(p(t,n),p(t,e));for(var f=0;f!==t.length;++f)if((f+1)%t.length!==n&&f!==n&&a(p(t,n),p(t,e),p(t,f+1))&&u(p(t,n),p(t,e),p(t,f))&&(h[0]=p(t,n),h[1]=p(t,e),s[0]=p(t,f),s[1]=p(t,f+1),i=r(h,s),c(p(t,n),i)<o))return!1;return!0}function M(t,n,r){for(var i=0;i!==t.length;++i)if(i!==n&&i!==r&&(i+1)%t.length!==n&&(i+1)%t.length!==r&&e(p(t,n),p(t,r),p(t,i),p(t,i+1)))return!1;return!0}function _(t,n,r,e){var i=e||[];if(function(t){t.length=0}(i),n<r)for(var o=n;o<=r;o++)i.push(t[o]);else{for(o=0;o<=r;o++)i.push(t[o]);for(o=n;o<t.length;o++)i.push(t[o])}return i}function X(t,n,r,e,i){i=i||0;var o=n[1]-t[1],a=t[0]-n[0],h=o*t[0]+a*t[1],u=e[1]-r[1],s=r[0]-e[0],f=u*r[0]+s*r[1],l=o*s-u*a;return Y(l,0,i)?[0,0]:[(s*h-a*f)/l,(o*f-u*h)/l]}function Y(t,n,r){return r=r||0,Math.abs(t-n)<=r}function y(t,n,r){return Y(t[0],n[0],r)&&Y(t[1],n[1],r)}},function(t,n,r){"use strict";r.r(n),r.d(n,"GraphAI",(function(){return h}));var e=r(0),i=r.n(e);r.d(n,"concaveman",(function(){return i.a}));var o=r(1),a=r.n(o);class h{constructor(t,n,r,e,i,o,a){this.m_iGridWidth=t,this.m_iGridHeight=n,this.m_iGridSizeX=r,this.m_iGridSizeY=e,this.PointStore=i,this.POINT_STARTING=o,this.POINT_IN_PATH=a}async BuildGraph({freePointStatus:t,fillCol:n="blue"}={}){const r=[],e=new Map,i=function(t,r){const e=r.GetStatus();return!(!t.includes(e)||r.GetFillColor()!==n)},o=async function(n,o,a,h,u,s,f){if(o>=0&&o<this.m_iGridWidth&&a>=0&&a<this.m_iGridHeight){const h=await this.PointStore.get(a*this.m_iGridWidth+o);if(h&&!0===i([t],h)&&!1===e.has(`${s},${f}_${o},${a}`)&&!1===e.has(`${o},${a}_${s},${f}`)){const t={from:n,to:h};if(e.set(`${s},${f}_${o},${a}`,t),!1===r.includes(n))n.adjacents=[h],r.push(n);else{r.find(t=>t===n).adjacents.push(h)}if(!1===r.includes(h))h.adjacents=[n],r.push(h);else{r.find(t=>t===h).adjacents.push(n)}}}}.bind(this);for(const n of await this.PointStore.values())if(n&&!0===i([t,this.POINT_STARTING,this.POINT_IN_PATH],n)){const{x:t,y:r}=n.GetPosition(),e=t/this.m_iGridSizeX,i=r/this.m_iGridSizeY;await o(n,e+1,i,t,r,e,i),await o(n,e-1,i,t,r,e,i),await o(n,e,i-1,t,r,e,i),await o(n,e,i+1,t,r,e,i),await o(n,e-1,i-1,t,r,e,i),await o(n,e+1,i-1,t,r,e,i),await o(n,e-1,i+1,t,r,e,i),await o(n,e+1,i+1,t,r,e,i)}return{vertices:r,edges:Array.from(e.values())}}}const u=[[484,480],[676,363],[944,342],[678,41],[286,237],[758,215],[752,117],[282,492],[609,262],[129,252]],s=i()(u,2,0),f=a.a.decomp(u);(!s||s.length<=0||
//!convexPolygonsQuick || convexPolygonsQuick.length <= 0 || 
!f||f.length<=0)&&console.log("decomp or concaveman error")},function(t,n,r){t.exports=function(){"use strict";function t(t,e,i,o,a){!function t(r,e,i,o,a){for(;o>i;){if(o-i>600){var h=o-i+1,u=e-i+1,s=Math.log(h),f=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*f*(h-f)/h)*(u-h/2<0?-1:1);t(r,e,Math.max(i,Math.floor(e-u*f/h+l)),Math.min(o,Math.floor(e+(h-u)*f/h+l)),a)}var c=r[e],p=i,m=o;for(n(r,i,e),a(r[o],c)>0&&n(r,i,o);p<m;){for(n(r,p,m),p++,m--;a(r[p],c)<0;)p++;for(;a(r[m],c)>0;)m--}0===a(r[i],c)?n(r,i,m):n(r,++m,o),m<=e&&(i=m+1),e<=m&&(o=m-1)}}(t,e,i||0,o||t.length-1,a||r)}function n(t,n,r){var e=t[n];t[n]=t[r],t[r]=e}function r(t,n){return t<n?-1:t>n?1:0}var e=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,n,r){if(!r)return n.indexOf(t);for(var e=0;e<n.length;e++)if(r(t,n[e]))return e;return-1}function o(t,n){a(t,0,t.children.length,n,t)}function a(t,n,r,e,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=n;o<r;o++){var a=t.children[o];h(i,t.leaf?e(a):a)}return i}function h(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function u(t,n){return t.minX-n.minX}function s(t,n){return t.minY-n.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function c(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function p(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(n,r,e,i,o){for(var a=[r,e];a.length;)if(!((e=a.pop())-(r=a.pop())<=i)){var h=r+Math.ceil((e-r)/i/2)*i;t(n,h,r,e,o),a.push(r,h,h,e)}}return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(t){var n=this.data,r=[];if(!p(t,n))return r;for(var e=this.toBBox,i=[];n;){for(var o=0;o<n.children.length;o++){var a=n.children[o],h=n.leaf?e(a):a;p(t,h)&&(n.leaf?r.push(a):c(t,h)?this._all(a,r):i.push(a))}n=i.pop()}return r},e.prototype.collides=function(t){var n=this.data;if(!p(t,n))return!1;for(var r=[];n;){for(var e=0;e<n.children.length;e++){var i=n.children[e],o=n.leaf?this.toBBox(i):i;if(p(t,o)){if(n.leaf||c(t,o))return!0;r.push(i)}}n=r.pop()}return!1},e.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0;n<t.length;n++)this.insert(t[n]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var e=this.data;this.data=r,r=e}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},e.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},e.prototype.clear=function(){return this.data=m([]),this},e.prototype.remove=function(t,n){if(!t)return this;for(var r,e,o,a=this.data,h=this.toBBox(t),u=[],s=[];a||u.length;){if(a||(a=u.pop(),e=u[u.length-1],r=s.pop(),o=!0),a.leaf){var f=i(t,a.children,n);if(-1!==f)return a.children.splice(f,1),u.push(a),this._condense(u),this}o||a.leaf||!c(a,h)?e?(r++,a=e.children[r],o=!1):a=null:(u.push(a),s.push(r),r=0,e=a,a=a.children[0])}return this},e.prototype.toBBox=function(t){return t},e.prototype.compareMinX=function(t,n){return t.minX-n.minX},e.prototype.compareMinY=function(t,n){return t.minY-n.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(t){return this.data=t,this},e.prototype._all=function(t,n){for(var r=[];t;)t.leaf?n.push.apply(n,t.children):r.push.apply(r,t.children),t=r.pop();return n},e.prototype._build=function(t,n,r,e){var i,a=r-n+1,h=this._maxEntries;if(a<=h)return o(i=m(t.slice(n,r+1)),this.toBBox),i;e||(e=Math.ceil(Math.log(a)/Math.log(h)),h=Math.ceil(a/Math.pow(h,e-1))),(i=m([])).leaf=!1,i.height=e;var u=Math.ceil(a/h),s=u*Math.ceil(Math.sqrt(h));d(t,n,r,s,this.compareMinX);for(var f=n;f<=r;f+=s){var l=Math.min(f+s-1,r);d(t,f,l,u,this.compareMinY);for(var c=f;c<=l;c+=u){var p=Math.min(c+u-1,l);i.children.push(this._build(t,c,p,e-1))}}return o(i,this.toBBox),i},e.prototype._chooseSubtree=function(t,n,r,e){for(;e.push(n),!n.leaf&&e.length-1!==r;){for(var i=1/0,o=1/0,a=void 0,h=0;h<n.children.length;h++){var u=n.children[h],s=f(u),l=(c=t,p=u,(Math.max(p.maxX,c.maxX)-Math.min(p.minX,c.minX))*(Math.max(p.maxY,c.maxY)-Math.min(p.minY,c.minY))-s);l<o?(o=l,i=s<i?s:i,a=u):l===o&&s<i&&(i=s,a=u)}n=a||n.children[0]}var c,p;return n},e.prototype._insert=function(t,n,r){var e=r?t:this.toBBox(t),i=[],o=this._chooseSubtree(e,this.data,n,i);for(o.children.push(t),h(o,e);n>=0&&i[n].children.length>this._maxEntries;)this._split(i,n),n--;this._adjustParentBBoxes(e,i,n)},e.prototype._split=function(t,n){var r=t[n],e=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,e);var a=this._chooseSplitIndex(r,i,e),h=m(r.children.splice(a,r.children.length-a));h.height=r.height,h.leaf=r.leaf,o(r,this.toBBox),o(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(r,h)},e.prototype._splitRoot=function(t,n){this.data=m([t,n]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(t,n,r){for(var e,i,o,h,u,s,l,c=1/0,p=1/0,m=n;m<=r-n;m++){var d=a(t,0,m,this.toBBox),v=a(t,m,r,this.toBBox),g=(i=d,o=v,h=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),s=Math.min(i.maxX,o.maxX),l=Math.min(i.maxY,o.maxY),Math.max(0,s-h)*Math.max(0,l-u)),x=f(d)+f(v);g<c?(c=g,e=m,p=x<p?x:p):g===c&&x<p&&(p=x,e=m)}return e||r-n},e.prototype._chooseSplitAxis=function(t,n,r){var e=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:s;this._allDistMargin(t,n,r,e)<this._allDistMargin(t,n,r,i)&&t.children.sort(e)},e.prototype._allDistMargin=function(t,n,r,e){t.children.sort(e);for(var i=this.toBBox,o=a(t,0,n,i),u=a(t,r-n,r,i),s=l(o)+l(u),f=n;f<r-n;f++){var c=t.children[f];h(o,t.leaf?i(c):c),s+=l(o)}for(var p=r-n-1;p>=n;p--){var m=t.children[p];h(u,t.leaf?i(m):m),s+=l(u)}return s},e.prototype._adjustParentBBoxes=function(t,n,r){for(var e=r;e>=0;e--)h(n[e],t)},e.prototype._condense=function(t){for(var n=t.length-1,r=void 0;n>=0;n--)0===t[n].children.length?n>0?(r=t[n-1].children).splice(r.indexOf(t[n]),1):this.clear():o(t[n],this.toBBox)},e}()},function(t,n,r){t.exports=function(){"use strict";var t=function(t,r){if(void 0===t&&(t=[]),void 0===r&&(r=n),this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(var e=(this.length>>1)-1;e>=0;e--)this._down(e)};function n(t,n){return t<n?-1:t>n?1:0}return t.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},t.prototype.pop=function(){if(0!==this.length){var t=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),t}},t.prototype.peek=function(){return this.data[0]},t.prototype._up=function(t){for(var n=this.data,r=this.compare,e=n[t];t>0;){var i=t-1>>1,o=n[i];if(r(e,o)>=0)break;n[t]=o,t=i}n[t]=e},t.prototype._down=function(t){for(var n=this.data,r=this.compare,e=this.length>>1,i=n[t];t<e;){var o=1+(t<<1),a=n[o],h=o+1;if(h<this.length&&r(n[h],a)<0&&(o=h,a=n[h]),r(a,i)>=0)break;n[t]=a,t=o}n[t]=i},t}()},function(t,n){t.exports=function(t,n){for(var r=t[0],e=t[1],i=!1,o=0,a=n.length-1;o<n.length;a=o++){var h=n[o][0],u=n[o][1],s=n[a][0],f=n[a][1];u>e!=f>e&&r<(s-h)*(e-u)/(f-u)+h&&(i=!i)}return i}},function(t,n,r){!function(t){"use strict";const n=134217729;function r(t,n,r,e,i){let o,a,h,u,s=n[0],f=e[0],l=0,c=0;f>s==f>-s?(o=s,s=n[++l]):(o=f,f=e[++c]);let p=0;if(l<t&&c<r)for(f>s==f>-s?(h=o-((a=s+o)-s),s=n[++l]):(h=o-((a=f+o)-f),f=e[++c]),o=a,0!==h&&(i[p++]=h);l<t&&c<r;)f>s==f>-s?(h=o-((a=o+s)-(u=a-o))+(s-u),s=n[++l]):(h=o-((a=o+f)-(u=a-o))+(f-u),f=e[++c]),o=a,0!==h&&(i[p++]=h);for(;l<t;)h=o-((a=o+s)-(u=a-o))+(s-u),s=n[++l],o=a,0!==h&&(i[p++]=h);for(;c<r;)h=o-((a=o+f)-(u=a-o))+(f-u),f=e[++c],o=a,0!==h&&(i[p++]=h);return 0===o&&0!==p||(i[p++]=o),p}function e(t){return new Float64Array(t)}const i=e(4),o=e(8),a=e(12),h=e(16),u=e(4);t.orient2d=function(t,e,s,f,l,c){const p=(e-c)*(s-l),m=(t-l)*(f-c),d=p-m;if(0===p||0===m||p>0!=m>0)return d;const v=Math.abs(p+m);return Math.abs(d)>=33306690738754716e-32*v?d:-function(t,e,s,f,l,c,p){let m,d,v,g,x,M,_,X,Y,y,B,b,A,S,w,I,P,G;const O=t-l,$=s-l,j=e-c,N=f-c;x=(w=(X=O-(_=(M=n*O)-(M-O)))*(y=N-(Y=(M=n*N)-(M-N)))-((S=O*N)-_*Y-X*Y-_*y))-(B=w-(P=(X=j-(_=(M=n*j)-(M-j)))*(y=$-(Y=(M=n*$)-(M-$)))-((I=j*$)-_*Y-X*Y-_*y))),i[0]=w-(B+x)+(x-P),x=(A=S-((b=S+B)-(x=b-S))+(B-x))-(B=A-I),i[1]=A-(B+x)+(x-I),x=(G=b+B)-b,i[2]=b-(G-x)+(B-x),i[3]=G;let T=function(t,n){let r=n[0];for(let t=1;t<4;t++)r+=n[t];return r}(0,i),E=22204460492503146e-32*p;if(T>=E||-T>=E)return T;if(m=t-(O+(x=t-O))+(x-l),v=s-($+(x=s-$))+(x-l),d=e-(j+(x=e-j))+(x-c),g=f-(N+(x=f-N))+(x-c),0===m&&0===d&&0===v&&0===g)return T;if(E=11093356479670487e-47*p+33306690738754706e-32*Math.abs(T),(T+=O*g+N*m-(j*v+$*d))>=E||-T>=E)return T;x=(w=(X=m-(_=(M=n*m)-(M-m)))*(y=N-(Y=(M=n*N)-(M-N)))-((S=m*N)-_*Y-X*Y-_*y))-(B=w-(P=(X=d-(_=(M=n*d)-(M-d)))*(y=$-(Y=(M=n*$)-(M-$)))-((I=d*$)-_*Y-X*Y-_*y))),u[0]=w-(B+x)+(x-P),x=(A=S-((b=S+B)-(x=b-S))+(B-x))-(B=A-I),u[1]=A-(B+x)+(x-I),x=(G=b+B)-b,u[2]=b-(G-x)+(B-x),u[3]=G;const k=r(4,i,4,u,o);x=(w=(X=O-(_=(M=n*O)-(M-O)))*(y=g-(Y=(M=n*g)-(M-g)))-((S=O*g)-_*Y-X*Y-_*y))-(B=w-(P=(X=j-(_=(M=n*j)-(M-j)))*(y=v-(Y=(M=n*v)-(M-v)))-((I=j*v)-_*Y-X*Y-_*y))),u[0]=w-(B+x)+(x-P),x=(A=S-((b=S+B)-(x=b-S))+(B-x))-(B=A-I),u[1]=A-(B+x)+(x-I),x=(G=b+B)-b,u[2]=b-(G-x)+(B-x),u[3]=G;const q=r(k,o,4,u,a);x=(w=(X=m-(_=(M=n*m)-(M-m)))*(y=g-(Y=(M=n*g)-(M-g)))-((S=m*g)-_*Y-X*Y-_*y))-(B=w-(P=(X=d-(_=(M=n*d)-(M-d)))*(y=v-(Y=(M=n*v)-(M-v)))-((I=d*v)-_*Y-X*Y-_*y))),u[0]=w-(B+x)+(x-P),x=(A=S-((b=S+B)-(x=b-S))+(B-x))-(B=A-I),u[1]=A-(B+x)+(x-I),x=(G=b+B)-b,u[2]=b-(G-x)+(B-x),u[3]=G;const D=r(q,a,4,u,h);return h[D-1]}(t,e,s,f,l,c,v)},t.orient2dfast=function(t,n,r,e,i,o){return(n-o)*(r-i)-(t-i)*(e-o)},Object.defineProperty(t,"__esModule",{value:!0})}(n)}]);void 0===AIBundle&&console.error("esm-webpack-plugin: nothing exported!");const _AIBundle$concaveman=AIBundle.concaveman,_AIBundle$GraphAI=AIBundle.GraphAI;export{_AIBundle$concaveman as concaveman,_AIBundle$GraphAI as GraphAI};